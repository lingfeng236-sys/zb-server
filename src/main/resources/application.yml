spring:
  application:
    name: camunda-study
  datasource:
    url: jdbc:mysql://localhost:3306/camunda_db?useUnicode=true&characterEncoding=utf8&serverTimezone=Asia/Shanghai&useSSL=false&allowPublicKeyRetrieval=true
    username: root
    password: 123456
    driver-class-name: com.mysql.cj.jdbc.Driver
    type: com.alibaba.druid.pool.DruidDataSource
    druid:
      initial-size: 5                      # 初始化连接数
      min-idle: 5                          # 最小空闲连接数
      max-active: 20                       # 最大活跃连接数
      max-wait: 60000                      # 获取连接最大等待时间（毫秒）
      time-between-eviction-runs-millis: 60000  # 配置间隔多久才进行一次检测，检测需要关闭的空闲连接
      min-evictable-idle-time-millis: 300000    # 配置一个连接在池中最小生存的时间
      validation-query: SELECT 1           # 用来检测连接是否有效的sql
      test-while-idle: true                # 建议配置为true，不影响性能，并且保证安全性
      test-on-borrow: false                # 申请连接时执行validationQuery检测连接是否有效
      test-on-return: false                # 归还连接时执行validationQuery检测连接是否有效
      default-transaction-isolation: 2     # 事务隔离级别：READ_COMMITTED
      filters: stat,wall                   # 配置监控统计拦截的filters
      stat-view-servlet:
        enabled: true                      # 启用Druid监控页面
        url-pattern: /druid/*
        reset-enable: false
        login-username: admin              # 监控页面登录用户名
        login-password: admin              # 监控页面登录密码
      web-stat-filter:
        enabled: true
        url-pattern: /*
        exclusions: "*.js,*.gif,*.jpg,*.png,*.css,*.ico,/druid/*"
#  datasource:
#    url: jdbc:h2:mem:camunda;DB_CLOSE_DELAY=-1;DB_CLOSE_ON_EXIT=FALSE
#    driver-class-name: org.h2.Driver
#    username: admin
#    password:
#  h2:
#    console:
#      enabled: true
#      path: /h2
server:
  port: 8080

camunda.bpm:
  database:
    type: mysql
    schema-update:  true
  admin-user:
    id: demo
    password: demo
    firstName: Demo
  filter:
    create: All tasks
#  auto-deployment-enabled: false
  #deployment-resource-pattern: classpath*:**/*.bpmn



# 日志配置（可选，用于调试）
logging:
  level:
    org.camunda: INFO
    com.alibaba.druid: DEBUG

# MyBatis-Plus 配置
mybatis-plus:
  configuration:
    map-underscore-to-camel-case: true  # 下划线转驼峰
    log-impl: org.apache.ibatis.logging.stdout.StdOutImpl  # 开启SQL日志输出
    default-enum-type-handler: com.lingfeng.camundastudy.common.type.handle.UniversalEnumHandler
  global-config:
    db-config:
      id-type: auto  # 主键策略：数据库自增
      logic-delete-field: deleted  # 逻辑删除字段
      logic-delete-value: 1  # 逻辑已删除值
      logic-not-delete-value: 0  # 逻辑未删除值
  mapper-locations: classpath*:/mapper/**/*.xml  # Mapper XML 文件位置
  type-aliases-package: com.lingfeng.camundastudy.domain.entity  # 实体类包路径
  type-handlers-package: com.lingfeng.camundastudy.common.type.handle.global